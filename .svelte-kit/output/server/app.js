import {respond} from "@sveltejs/kit/ssr";
import {create_ssr_component, validate_component, missing_component, escape, spread, add_attribute, each} from "svelte/internal";
import {setContext, afterUpdate, onMount, onDestroy} from "svelte";
import Chart from "chart.js";
var root_svelte_svelte_type_style_lang = "#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}";
const css = {
  code: "#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}",
  map: `{"version":3,"file":"root.svelte","sources":["root.svelte"],"sourcesContent":["<!-- This file is generated by @sveltejs/kit \u2014 do not edit it! -->\\n<script>\\n\\timport { setContext, afterUpdate, onMount } from 'svelte';\\n\\n\\t// stores\\n\\texport let stores;\\n\\texport let page;\\n\\n\\texport let components;\\n\\texport let props_0 = null;\\n\\texport let props_1 = null;\\n\\texport let props_2 = null;\\n\\n\\tsetContext('__svelte__', stores);\\n\\n\\t$: stores.page.set(page);\\n\\tafterUpdate(stores.page.notify);\\n\\n\\tlet mounted = false;\\n\\tlet navigated = false;\\n\\tlet title = null;\\n\\n\\tonMount(() => {\\n\\t\\tconst unsubscribe = stores.page.subscribe(() => {\\n\\t\\t\\tif (mounted) {\\n\\t\\t\\t\\tnavigated = true;\\n\\t\\t\\t\\ttitle = document.title || 'untitled page';\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tmounted = true;\\n\\t\\treturn unsubscribe;\\n\\t});\\n</script>\\n\\n<svelte:component this={components[0]} {...(props_0 || {})}>\\n\\t{#if components[1]}\\n\\t\\t<svelte:component this={components[1]} {...(props_1 || {})}>\\n\\t\\t\\t{#if components[2]}\\n\\t\\t\\t\\t<svelte:component this={components[2]} {...(props_2 || {})}/>\\n\\t\\t\\t{/if}\\n\\t\\t</svelte:component>\\n\\t{/if}\\n</svelte:component>\\n\\n{#if mounted}\\n\\t<div id=\\"svelte-announcer\\" aria-live=\\"assertive\\" aria-atomic=\\"true\\">\\n\\t\\t{#if navigated}\\n\\t\\t\\t{title}\\n\\t\\t{/if}\\n\\t</div>\\n{/if}\\n\\n<style>\\n\\t#svelte-announcer {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\tclip: rect(0 0 0 0);\\n\\t\\tclip-path: inset(50%);\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\twidth: 1px;\\n\\t\\theight: 1px;\\n\\t}\\n</style>"],"names":[],"mappings":"AAsDC,iBAAiB,eAAC,CAAC,AAClB,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,CAAC,CACP,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACnB,SAAS,CAAE,MAAM,GAAG,CAAC,CACrB,QAAQ,CAAE,MAAM,CAChB,WAAW,CAAE,MAAM,CACnB,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,GAAG,AACZ,CAAC"}`
};
const Root = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let {stores} = $$props;
  let {page} = $$props;
  let {components} = $$props;
  let {props_0 = null} = $$props;
  let {props_1 = null} = $$props;
  let {props_2 = null} = $$props;
  setContext("__svelte__", stores);
  afterUpdate(stores.page.notify);
  let mounted = false;
  let navigated = false;
  let title = null;
  onMount(() => {
    const unsubscribe = stores.page.subscribe(() => {
      if (mounted) {
        navigated = true;
        title = document.title || "untitled page";
      }
    });
    mounted = true;
    return unsubscribe;
  });
  if ($$props.stores === void 0 && $$bindings.stores && stores !== void 0)
    $$bindings.stores(stores);
  if ($$props.page === void 0 && $$bindings.page && page !== void 0)
    $$bindings.page(page);
  if ($$props.components === void 0 && $$bindings.components && components !== void 0)
    $$bindings.components(components);
  if ($$props.props_0 === void 0 && $$bindings.props_0 && props_0 !== void 0)
    $$bindings.props_0(props_0);
  if ($$props.props_1 === void 0 && $$bindings.props_1 && props_1 !== void 0)
    $$bindings.props_1(props_1);
  if ($$props.props_2 === void 0 && $$bindings.props_2 && props_2 !== void 0)
    $$bindings.props_2(props_2);
  $$result.css.add(css);
  {
    stores.page.set(page);
  }
  return `


${validate_component(components[0] || missing_component, "svelte:component").$$render($$result, Object.assign(props_0 || {}), {}, {
    default: () => `${components[1] ? `${validate_component(components[1] || missing_component, "svelte:component").$$render($$result, Object.assign(props_1 || {}), {}, {
      default: () => `${components[2] ? `${validate_component(components[2] || missing_component, "svelte:component").$$render($$result, Object.assign(props_2 || {}), {}, {})}` : ``}`
    })}` : ``}`
  })}

${mounted ? `<div id="${"svelte-announcer"}" aria-live="${"assertive"}" aria-atomic="${"true"}" class="${"svelte-1j55zn5"}">${navigated ? `${escape(title)}` : ``}</div>` : ``}`;
});
function set_paths(paths) {
}
function set_prerendering(value) {
}
var user_hooks = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module"
});
const template = ({head, body}) => '<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <link rel="icon" href="/favicon.ico" />\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n    ' + head + '\n  </head>\n  <body>\n    <div id="svelte">' + body + "</div>\n  </body>\n</html>\n";
let options = null;
function init(settings) {
  set_paths(settings.paths);
  set_prerendering(settings.prerendering || false);
  options = {
    amp: false,
    dev: false,
    entry: {
      file: "/./_app/start-8a8140d1.js",
      css: ["/./_app/assets/start-a8cd1609.css"],
      js: ["/./_app/start-8a8140d1.js", "/./_app/chunks/vendor-c019e522.js"]
    },
    fetched: void 0,
    floc: false,
    get_component_path: (id) => "/./_app/" + entry_lookup[id],
    get_stack: (error2) => String(error2),
    handle_error: (error2) => {
      console.error(error2.stack);
      error2.stack = options.get_stack(error2);
    },
    hooks: get_hooks(user_hooks),
    hydrate: true,
    initiator: void 0,
    load_component,
    manifest,
    paths: settings.paths,
    read: settings.read,
    root: Root,
    router: true,
    ssr: true,
    target: "#svelte",
    template
  };
}
const empty = () => ({});
const manifest = {
  assets: [],
  layout: ".svelte-kit/build/components/layout.svelte",
  error: ".svelte-kit/build/components/error.svelte",
  routes: [
    {
      type: "page",
      pattern: /^\/$/,
      params: empty,
      a: [".svelte-kit/build/components/layout.svelte", "src/routes/index.svelte"],
      b: [".svelte-kit/build/components/error.svelte"]
    }
  ]
};
const get_hooks = (hooks) => ({
  getSession: hooks.getSession || (() => ({})),
  handle: hooks.handle || (({request, render: render2}) => render2(request))
});
const module_lookup = {
  ".svelte-kit/build/components/layout.svelte": () => Promise.resolve().then(function() {
    return layout;
  }),
  ".svelte-kit/build/components/error.svelte": () => Promise.resolve().then(function() {
    return error;
  }),
  "src/routes/index.svelte": () => Promise.resolve().then(function() {
    return index;
  })
};
const metadata_lookup = {".svelte-kit/build/components/layout.svelte": {entry: "/./_app/layout.svelte-ff071ae9.js", css: [], js: ["/./_app/layout.svelte-ff071ae9.js", "/./_app/chunks/vendor-c019e522.js"], styles: null}, ".svelte-kit/build/components/error.svelte": {entry: "/./_app/error.svelte-ccb8dae7.js", css: [], js: ["/./_app/error.svelte-ccb8dae7.js", "/./_app/chunks/vendor-c019e522.js"], styles: null}, "src/routes/index.svelte": {entry: "/./_app/pages/index.svelte-bb12bb54.js", css: [], js: ["/./_app/pages/index.svelte-bb12bb54.js", "/./_app/chunks/vendor-c019e522.js"], styles: null}};
async function load_component(file) {
  return {
    module: await module_lookup[file](),
    ...metadata_lookup[file]
  };
}
init({paths: {base: "", assets: "/."}});
function render(request, {
  prerender
} = {}) {
  const host = request.headers["host"];
  return respond({...request, host}, options, {prerender});
}
const Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `${slots.default ? slots.default({}) : ``}`;
});
var layout = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  default: Layout
});
function load({error: error2, status}) {
  return {props: {error: error2, status}};
}
const Error = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let {status} = $$props;
  let {error: error2} = $$props;
  if ($$props.status === void 0 && $$bindings.status && status !== void 0)
    $$bindings.status(status);
  if ($$props.error === void 0 && $$bindings.error && error2 !== void 0)
    $$bindings.error(error2);
  return `<h1>${escape(status)}</h1>

<p>${escape(error2.message)}</p>


${error2.stack ? `<pre>${escape(error2.stack)}</pre>` : ``}`;
});
var error = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  default: Error,
  load
});
var data = {
  "1618599750779": [
    {
      url: "http://staging.territoiresentransitions.fr/",
      index: 1,
      firstMeaningfulPaint: "2.1\xA0s",
      timeToInteractive: "2.1\xA0s",
      greenhouseGasesEmission: 1.24,
      ecoIndex: 88,
      greentITGrade: "A",
      waterConsumption: 1.86,
      totalWeightInBytes: 124080,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 3530
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 102155
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 4,
      domElementsCount: 38,
      domElementsCountScore: 100,
      cachingNotSpecified: 3,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/fiches/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/mesures.html",
      refactoringDoneAt: 1620376751,
      index: 2,
      firstMeaningfulPaint: "2.3\xA0s",
      timeToInteractive: "2.3\xA0s",
      greenhouseGasesEmission: 1.48,
      ecoIndex: 76,
      greentITGrade: "A",
      waterConsumption: 2.22,
      totalWeightInBytes: 303481,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 33462
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 251624
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 335,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/indicateurs/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/indicateurs.html",
      refactoringDoneAt: 1620376751,
      index: 3,
      firstMeaningfulPaint: "4.4\xA0s",
      timeToInteractive: "4.4\xA0s",
      greenhouseGasesEmission: 2.14,
      ecoIndex: 43,
      greentITGrade: "D",
      waterConsumption: 3.21,
      totalWeightInBytes: 574236,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 413442
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 142399
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 2994,
      domElementsCountScore: 0,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/actions_referentiels/citergie__1.1.1/?epci_id=test#citergie__1.1.1",
      previousUrl: "http://staging.territoiresentransitions.fr/mesure_1.1.1.html",
      refactoringDoneAt: 1620376751,
      index: 4,
      firstMeaningfulPaint: "2.6\xA0s",
      timeToInteractive: "2.6\xA0s",
      greenhouseGasesEmission: 1.54,
      ecoIndex: 73,
      greentITGrade: "B",
      waterConsumption: 2.31,
      totalWeightInBytes: 222756,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 61962
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 142399
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 419,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/fiches/creation/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/mesure_ajout.html",
      refactoringDoneAt: 1620376751,
      index: 5,
      firstMeaningfulPaint: "3.0\xA0s",
      timeToInteractive: "1.2\xA0s",
      greenhouseGasesEmission: 1.2,
      ecoIndex: 90,
      greentITGrade: "A",
      waterConsumption: 1.8,
      totalWeightInBytes: 287256,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 1894
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 266967
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 13,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    }
  ],
  "1619164577260": [
    {
      url: "http://staging.territoiresentransitions.fr/",
      index: 1,
      firstMeaningfulPaint: "2.8\xA0s",
      timeToInteractive: "2.8\xA0s",
      greenhouseGasesEmission: 1.24,
      ecoIndex: 88,
      greentITGrade: "A",
      waterConsumption: 1.86,
      totalWeightInBytes: 124080,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 3530
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 102155
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 4,
      domElementsCount: 38,
      domElementsCountScore: 100,
      cachingNotSpecified: 3,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/fiches/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/mesures.html",
      refactoringDoneAt: 1620376751,
      index: 2,
      firstMeaningfulPaint: "3.2\xA0s",
      timeToInteractive: "3.2\xA0s",
      greenhouseGasesEmission: 1.48,
      ecoIndex: 76,
      greentITGrade: "A",
      waterConsumption: 2.22,
      totalWeightInBytes: 303481,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 33462
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 251624
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 335,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/indicateurs/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/indicateurs.html",
      refactoringDoneAt: 1620376751,
      index: 3,
      firstMeaningfulPaint: "4.3\xA0s",
      timeToInteractive: "4.3\xA0s",
      greenhouseGasesEmission: 2.16,
      ecoIndex: 42,
      greentITGrade: "D",
      waterConsumption: 3.24,
      totalWeightInBytes: 574236,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 413442
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 142399
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 2994,
      domElementsCountScore: 0,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/actions_referentiels/citergie__1.1.1/?epci_id=test#citergie__1.1.1",
      previousUrl: "http://staging.territoiresentransitions.fr/mesure_1.1.1.html",
      refactoringDoneAt: 1620376751,
      index: 4,
      firstMeaningfulPaint: "2.5\xA0s",
      timeToInteractive: "2.1\xA0s",
      greenhouseGasesEmission: 1.54,
      ecoIndex: 73,
      greentITGrade: "B",
      waterConsumption: 2.31,
      totalWeightInBytes: 222756,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 61962
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 142399
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 419,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/fiches/creation/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/mesure_ajout.html",
      refactoringDoneAt: 1620376751,
      index: 5,
      firstMeaningfulPaint: "3.6\xA0s",
      timeToInteractive: "1.5\xA0s",
      greenhouseGasesEmission: 1.2,
      ecoIndex: 90,
      greentITGrade: "A",
      waterConsumption: 1.8,
      totalWeightInBytes: 287256,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 1894
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 266967
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 13,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    }
  ],
  "1619471704468": [
    {
      url: "http://staging.territoiresentransitions.fr/",
      index: 1,
      firstMeaningfulPaint: "2.8\xA0s",
      timeToInteractive: "1.7\xA0s",
      greenhouseGasesEmission: 1.24,
      ecoIndex: 88,
      greentITGrade: "A",
      waterConsumption: 1.86,
      totalWeightInBytes: 124080,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 3530
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 102155
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 4,
      domElementsCount: 38,
      domElementsCountScore: 100,
      cachingNotSpecified: 3,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/fiches/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/mesures.html",
      refactoringDoneAt: 1620376751,
      index: 2,
      firstMeaningfulPaint: "3.4\xA0s",
      timeToInteractive: "1.4\xA0s",
      greenhouseGasesEmission: 1.48,
      ecoIndex: 76,
      greentITGrade: "A",
      waterConsumption: 2.22,
      totalWeightInBytes: 303481,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 33462
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 251624
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 335,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/indicateurs/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/indicateurs.html",
      refactoringDoneAt: 1620376751,
      index: 3,
      firstMeaningfulPaint: "4.0\xA0s",
      timeToInteractive: "3.5\xA0s",
      greenhouseGasesEmission: 2.16,
      ecoIndex: 42,
      greentITGrade: "D",
      waterConsumption: 3.24,
      totalWeightInBytes: 574236,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 413442
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 142399
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 2994,
      domElementsCountScore: 0,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/actions_referentiels/citergie__1.1.1/?epci_id=test#citergie__1.1.1",
      previousUrl: "http://staging.territoiresentransitions.fr/mesure_1.1.1.html",
      refactoringDoneAt: 1620376751,
      index: 4,
      firstMeaningfulPaint: "1.9\xA0s",
      timeToInteractive: "1.9\xA0s",
      greenhouseGasesEmission: 1.54,
      ecoIndex: 73,
      greentITGrade: "B",
      waterConsumption: 2.31,
      totalWeightInBytes: 222756,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 61962
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 142399
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 419,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/fiches/creation/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/mesure_ajout.html",
      refactoringDoneAt: 1620376751,
      index: 5,
      firstMeaningfulPaint: "2.2\xA0s",
      timeToInteractive: "1.2\xA0s",
      greenhouseGasesEmission: 1.2,
      ecoIndex: 90,
      greentITGrade: "A",
      waterConsumption: 1.8,
      totalWeightInBytes: 287256,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 1894
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 266967
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 13,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    }
  ],
  "1619788883604": [
    {
      url: "http://staging.territoiresentransitions.fr/",
      index: 1,
      greenhouseGasesEmission: 1.24,
      ecoIndex: 88,
      greentITGrade: "A",
      waterConsumption: 1.86,
      totalWeightInBytes: 124067,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 3530
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 102142
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 4,
      domElementsCount: 38,
      domElementsCountScore: 100,
      cachingNotSpecified: 3,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/fiches/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/mesures.html",
      refactoringDoneAt: 1620376751,
      index: 2,
      greenhouseGasesEmission: 1.48,
      ecoIndex: 76,
      greentITGrade: "A",
      waterConsumption: 2.22,
      totalWeightInBytes: 303481,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 33462
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 251624
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 335,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/indicateurs/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/indicateurs.html",
      refactoringDoneAt: 1620376751,
      index: 3,
      greenhouseGasesEmission: 2.16,
      ecoIndex: 42,
      greentITGrade: "D",
      waterConsumption: 3.24,
      totalWeightInBytes: 574236,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 413442
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 142399
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 2994,
      domElementsCountScore: 0,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/actions_referentiels/citergie__1.1.1/?epci_id=test#citergie__1.1.1",
      previousUrl: "http://staging.territoiresentransitions.fr/mesure_1.1.1.html",
      refactoringDoneAt: 1620376751,
      index: 4,
      greenhouseGasesEmission: 1.54,
      ecoIndex: 73,
      greentITGrade: "B",
      waterConsumption: 2.31,
      totalWeightInBytes: 222756,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 61962
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 142399
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 419,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/fiches/creation/?epci_id=test",
      previousUrl: "http://staging.territoiresentransitions.fr/mesure_ajout.html",
      refactoringDoneAt: 1620376751,
      index: 5,
      greenhouseGasesEmission: 1.2,
      ecoIndex: 90,
      greentITGrade: "A",
      waterConsumption: 1.8,
      totalWeightInBytes: 287256,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 1894
        },
        {
          mimeType: "css",
          weight: 18395
        },
        {
          mimeType: "js",
          weight: 266967
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 5,
      domElementsCount: 13,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    }
  ],
  "1620382551411": [
    {
      url: "http://staging.territoiresentransitions.fr/",
      previousUrl: null,
      refactoringDoneAt: null,
      index: 1,
      firstMeaningfulPaint: "1.0\xA0s",
      timeToInteractive: "1.0\xA0s",
      greenhouseGasesEmission: 1.26,
      ecoIndex: 87,
      greentITGrade: "A",
      waterConsumption: 1.89,
      totalWeightInBytes: 148720,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 17780
        },
        {
          mimeType: "css",
          weight: 0
        },
        {
          mimeType: "js",
          weight: 130940
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 4,
      domElementsCount: 47,
      domElementsCountScore: 100,
      cachingNotSpecified: 3,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/actions_referentiels/?epci_id=test",
      previousUrl: null,
      refactoringDoneAt: null,
      index: 2,
      firstMeaningfulPaint: "3.8\xA0s",
      timeToInteractive: "1.1\xA0s",
      greenhouseGasesEmission: 1.86,
      ecoIndex: 57,
      greentITGrade: "C",
      waterConsumption: 2.79,
      totalWeightInBytes: 778556,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 68004
        },
        {
          mimeType: "css",
          weight: 0
        },
        {
          mimeType: "js",
          weight: 710552
        },
        {
          mimeType: "json",
          weight: 0
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 6,
      domElementsCount: 756,
      domElementsCountScore: 100,
      cachingNotSpecified: 5,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/actions_referentiels/citergie__1.1.1/?epci_id=test#citergie__1.1.1",
      previousUrl: null,
      refactoringDoneAt: null,
      index: 3,
      firstMeaningfulPaint: "5.9\xA0s",
      timeToInteractive: "2.1\xA0s",
      greenhouseGasesEmission: 1.92,
      ecoIndex: 54,
      greentITGrade: "C",
      waterConsumption: 2.88,
      totalWeightInBytes: 926278,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 89072
        },
        {
          mimeType: "css",
          weight: 0
        },
        {
          mimeType: "js",
          weight: 833350
        },
        {
          mimeType: "json",
          weight: 3856
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 12,
      domElementsCount: 878,
      domElementsCountScore: 100,
      cachingNotSpecified: 9,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/indicateurs/?epci_id=test",
      previousUrl: null,
      refactoringDoneAt: null,
      index: 4,
      firstMeaningfulPaint: "7.7\xA0s",
      timeToInteractive: "2.0\xA0s",
      greenhouseGasesEmission: 2.14,
      ecoIndex: 43,
      greentITGrade: "D",
      waterConsumption: 3.21,
      totalWeightInBytes: 826911,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 16584
        },
        {
          mimeType: "css",
          weight: 0
        },
        {
          mimeType: "js",
          weight: 808773
        },
        {
          mimeType: "json",
          weight: 1554
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 9,
      domElementsCount: 5656,
      domElementsCountScore: 0,
      cachingNotSpecified: 7,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/fiches/?epci_id=test",
      previousUrl: null,
      refactoringDoneAt: null,
      index: 5,
      firstMeaningfulPaint: "2.8\xA0s",
      timeToInteractive: "1.0\xA0s",
      greenhouseGasesEmission: 1.22,
      ecoIndex: 89,
      greentITGrade: "A",
      waterConsumption: 1.83,
      totalWeightInBytes: 158009,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 16593
        },
        {
          mimeType: "css",
          weight: 0
        },
        {
          mimeType: "js",
          weight: 138917
        },
        {
          mimeType: "json",
          weight: 2499
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 7,
      domElementsCount: 19,
      domElementsCountScore: 100,
      cachingNotSpecified: 4,
      cachingDisabled: 0,
      cachingTooShort: 0
    },
    {
      url: "http://staging.territoiresentransitions.fr/fiches/creation/?epci_id=test",
      previousUrl: null,
      refactoringDoneAt: null,
      index: 6,
      firstMeaningfulPaint: "6.9\xA0s",
      timeToInteractive: "1.1\xA0s",
      greenhouseGasesEmission: 1.46,
      ecoIndex: 77,
      greentITGrade: "A",
      waterConsumption: 2.19,
      totalWeightInBytes: 878064,
      weightByMimeTypes: [
        {
          mimeType: "html",
          weight: 21180
        },
        {
          mimeType: "css",
          weight: 0
        },
        {
          mimeType: "js",
          weight: 855685
        },
        {
          mimeType: "json",
          weight: 1199
        },
        {
          mimeType: "image",
          weight: 0
        },
        {
          mimeType: "video",
          weight: 0
        },
        {
          mimeType: "webfont",
          weight: 0
        },
        {
          mimeType: "other",
          weight: 0
        }
      ],
      totalRequest: 11,
      domElementsCount: 219,
      domElementsCountScore: 100,
      cachingNotSpecified: 9,
      cachingDisabled: 0,
      cachingTooShort: 0
    }
  ]
};
function clean($$props, extra_keys) {
  let keys = ["children", "$$scope", "$$slots"].concat(extra_keys);
  const rest = {};
  for (const key of Object.keys($$props)) {
    if (!keys.includes(key)) {
      rest[key] = $$props[key];
    }
  }
  return rest;
}
const Base = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let {data: data2 = {
    labels: [],
    datasets: [{values: []}],
    yMarkers: {},
    yRegions: []
  }} = $$props;
  let {type = "line"} = $$props;
  let {options: options2 = {}} = $$props;
  let {plugins = {}} = $$props;
  let chart = null;
  let chartRef;
  let props = clean($$props, ["data", "type", "options", "plugins"]);
  onMount(() => {
    chart = new Chart(chartRef, {type, data: data2, options: options2, plugins});
  });
  afterUpdate(() => {
    if (!chart)
      return;
    chart.update();
  });
  onDestroy(() => {
    chart = null;
  });
  if ($$props.data === void 0 && $$bindings.data && data2 !== void 0)
    $$bindings.data(data2);
  if ($$props.type === void 0 && $$bindings.type && type !== void 0)
    $$bindings.type(type);
  if ($$props.options === void 0 && $$bindings.options && options2 !== void 0)
    $$bindings.options(options2);
  if ($$props.plugins === void 0 && $$bindings.plugins && plugins !== void 0)
    $$bindings.plugins(plugins);
  return `<canvas${spread([props])}${add_attribute("this", chartRef, 1)}></canvas>`;
});
const Metrics = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let {reportAggregate = {reports: []}} = $$props;
  let labels = [];
  let domElementsCounts = [];
  let greenhouseGasesEmissions = [];
  let waterConsumptions = [];
  let totalWeightInBytes = [];
  for (let report of reportAggregate.reports) {
    labels.push(report.time.toLocaleDateString("fr-FR"));
    domElementsCounts.push(report.domElementsCount);
    greenhouseGasesEmissions.push(report.greenhouseGasesEmission);
    waterConsumptions.push(report.waterConsumption);
    totalWeightInBytes.push(report.totalWeightInBytes);
  }
  if ($$props.reportAggregate === void 0 && $$bindings.reportAggregate && reportAggregate !== void 0)
    $$bindings.reportAggregate(reportAggregate);
  return `${validate_component(Base, "Base").$$render($$result, {
    type: "line",
    data: {
      labels,
      datasets: [
        {
          label: "Nombre d'\xE9l\xE9ment du DOM",
          yAxisID: "A",
          borderColor: "rgb(65,144,0)",
          data: domElementsCounts,
          fill: false
        },
        {
          label: "Poids de la page en bytes",
          yAxesGroup: "B",
          yAxisID: "B",
          borderColor: "rgb(137,0,0)",
          data: totalWeightInBytes,
          fill: false
        },
        {
          label: "Consommation d'eau en cl",
          yAxesGroup: "C",
          yAxisID: "C",
          borderColor: "rgb(99,182,255)",
          data: waterConsumptions,
          fill: false
        },
        {
          label: "emission de Gaz \xE0 effet de serre",
          yAxesGroup: "D",
          yAxisID: "D",
          borderColor: "rgb(0,0,0)",
          data: greenhouseGasesEmissions,
          fill: false
        }
      ]
    },
    width: 500,
    height: 250,
    options: {
      responsive: false,
      maintainAspectRatio: true,
      scales: {
        yAxes: [
          {
            id: "A",
            name: "A",
            type: "linear",
            position: "left",
            scalePositionLeft: true,
            ticks: {beginAtZero: true}
          },
          {
            id: "B",
            name: "B",
            type: "linear",
            position: "right",
            scalePositionLeft: false,
            ticks: {beginAtZero: true}
          },
          {
            id: "C",
            name: "C",
            type: "linear",
            position: "left",
            scalePositionLeft: false,
            ticks: {beginAtZero: true}
          },
          {
            id: "D",
            name: "D",
            type: "linear",
            position: "right",
            scalePositionLeft: false,
            ticks: {beginAtZero: true}
          }
        ]
      }
    }
  }, {}, {})}

${``}`;
});
const Routes = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let map = new Map();
  for (const [timestamp, reports] of Object.entries(data)) {
    reports.forEach((report) => {
      const url = report["url"];
      let aggregateReport = map.get(url);
      if (!aggregateReport) {
        map.set(url, {
          url,
          reports: [
            {
              time: new Date(parseInt(timestamp, 10)),
              url,
              ecoIndex: report["ecoIndex"],
              domElementsCount: report["domElementsCount"],
              greenhouseGasesEmission: report["greenhouseGasesEmission"],
              waterConsumption: report["waterConsumption"],
              weightByMimeTypes: report["weightByMimeTypes"],
              greenITGrade: report["greentITGrade"],
              totalWeightInBytes: report["totalWeightInBytes"]
            }
          ]
        });
        return;
      }
      aggregateReport.reports.push({
        time: new Date(parseInt(timestamp, 10)),
        url: report["url"],
        ecoIndex: report["ecoIndex"],
        domElementsCount: report["domElementsCount"],
        greenhouseGasesEmission: report["greenhouseGasesEmission"],
        waterConsumption: report["waterConsumption"],
        weightByMimeTypes: report["weightByMimeTypes"],
        greenITGrade: report["greentITGrade"],
        totalWeightInBytes: report["totalWeightInBytes"]
      });
    });
  }
  return `<h1>Metrics du projet LTE</h1>

<ul>${each(Array.from(map.values()), (reportAggregate) => `<li><h2>${escape(reportAggregate.url)}</h2>
      ${validate_component(Metrics, "Metrics").$$render($$result, {reportAggregate}, {}, {})}
    </li>`)}</ul>`;
});
var index = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  default: Routes
});
export {init, render};
